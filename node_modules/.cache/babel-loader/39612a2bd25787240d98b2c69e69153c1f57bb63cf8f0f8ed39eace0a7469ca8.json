{"ast":null,"code":"import '../style/Detailpage.css';\nimport React, { useState } from 'react';\nimport logo1 from '../components/logo1.svg';\nimport axios from 'axios'; // Import axios\nimport Airtable from 'airtable';\n\n// for demographic.js \n\nexport async function save_demographic_data(data) {\n  const airtable_url = process.env.REACT_APP_API_URL;\n  const apiKey = process.env.REACT_APP_API_KEY;\n  const postData = {\n    \"records\": [{\n      \"fields\": {\n        \"FirstName\": data[\"FirstName\"],\n        \"LastName\": data[\"LastName\"],\n        \"Email\": data[\"Email\"],\n        \"Age\": data[\"Age\"],\n        \"Gender\": data[\"Gender\"],\n        \"Sexuality\": data[\"Sexuality\"],\n        \"Education\": data[\"Education\"],\n        \"Race\": data[\"Race\"]\n      }\n    }]\n  };\n  if (data) {\n    try {\n      const response = await axios.post(airtable_url, postData, {\n        headers: {\n          \"Authorization\": `Bearer ${apiKey}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      console.log(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\n// explanation.js \n\nexport async function save_explanation_data(data, picture) {\n  const airtable_url = process.env.REACT_APP_API_URL;\n  const apiKey = process.env.REACT_APP_API_KEY;\n  const formData = new FormData();\n  formData.append(\"file\", picture);\n  try {\n    const uploadResponse = await axios.post(\"https://api.airtable.com/v0/appkf16Kyl7p9Fe7z/attachments\", formData, {\n      headers: {\n        \"Authorization\": `Bearer ${apiKey}`,\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    const attachmentId = uploadResponse.data.records[0].id;\n    const postData = {\n      \"records\": [{\n        \"fields\": {\n          \"Q1\": data.q1,\n          \"Q2\": data.q2,\n          \"Q3\": data.q3,\n          \"SelectedItems\": JSON.stringify(data.selectedItems),\n          \"Descriptions\": JSON.stringify(data.descriptions),\n          \"Picture\": [{\n            \"id\": attachmentId\n          }]\n        }\n      }]\n    };\n    const response = await axios.post(airtable_url, postData, {\n      headers: {\n        \"Authorization\": `Bearer ${apiKey}`,\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    console.log(response.data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// for detail.js\n\nexport async function load_post_written(fieldname, q1) {\n  const airtable_url = process.env.REACT_APP_API_URL;\n  const apiKey = process.env.REACT_APP_API_KEY;\n  const data = {\n    \"records\": [{\n      \"fields\": {\n        [fieldname]: q1\n      }\n    }]\n  };\n  if (q1) {\n    axios.post(airtable_url, data, {\n      headers: {\n        \"Authorization\": `Bearer ${apiKey}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n}","map":{"version":3,"names":["React","useState","logo1","axios","Airtable","save_demographic_data","data","airtable_url","process","env","REACT_APP_API_URL","apiKey","REACT_APP_API_KEY","postData","response","post","headers","console","log","error","save_explanation_data","picture","formData","FormData","append","uploadResponse","attachmentId","records","id","q1","q2","q3","JSON","stringify","selectedItems","descriptions","load_post_written","fieldname","then","catch"],"sources":["/Users/ritasabri/Desktop/PENN/interpretme_v2/src/pages/Fetcher.js"],"sourcesContent":["  \nimport '../style/Detailpage.css';\nimport React, { useState } from 'react';\nimport logo1 from '../components/logo1.svg';\nimport axios from 'axios'; // Import axios\nimport Airtable from 'airtable';\n\n\n\n// for demographic.js \n\n  export async function save_demographic_data(data) {\n    const airtable_url = process.env.REACT_APP_API_URL;\n    const apiKey = process.env.REACT_APP_API_KEY;\n  \n    \n  const postData = {\n    \"records\": [\n      {\n        \"fields\": {\n           \"FirstName\": data[\"FirstName\"],\n           \"LastName\": data[\"LastName\"],\n           \"Email\": data[\"Email\"],\n           \"Age\": data[\"Age\"],\n           \"Gender\": data[\"Gender\"],\n           \"Sexuality\": data[\"Sexuality\"],\n         \"Education\": data[\"Education\"],\n           \"Race\": data[\"Race\"]\n        }\n      }\n    ]\n  };\n  \n    if(data){\n      try {\n        const response = await axios.post(airtable_url, postData, {\n          headers: {\n            \"Authorization\": `Bearer ${apiKey}`,\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        console.log(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n\n  // explanation.js \n\n\nexport async function save_explanation_data(data, picture) {\n  const airtable_url = process.env.REACT_APP_API_URL;\n  const apiKey = process.env.REACT_APP_API_KEY;\n\n  const formData = new FormData();\n  formData.append(\"file\", picture);\n\n  try {\n    const uploadResponse = await axios.post(\"https://api.airtable.com/v0/appkf16Kyl7p9Fe7z/attachments\", formData, {\n      headers: {\n        \"Authorization\": `Bearer ${apiKey}`,\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n\n    const attachmentId = uploadResponse.data.records[0].id;\n\n    const postData = {\n      \"records\": [\n        {\n          \"fields\": {\n            \"Q1\": data.q1,\n            \"Q2\": data.q2,\n            \"Q3\": data.q3,\n            \"SelectedItems\": JSON.stringify(data.selectedItems),\n            \"Descriptions\": JSON.stringify(data.descriptions),\n            \"Picture\": [\n              {\n                \"id\": attachmentId,\n              },\n            ],\n          },\n        },\n      ],\n    };\n\n    const response = await axios.post(airtable_url, postData, {\n      headers: {\n        \"Authorization\": `Bearer ${apiKey}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    console.log(response.data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// for detail.js\n\n\nexport async function load_post_written(fieldname, q1){\n    const airtable_url = process.env.REACT_APP_API_URL;\n    const apiKey = process.env.REACT_APP_API_KEY;\n    const data = {\n        \"records\": [\n          {\n            \"fields\": {\n                [fieldname]: q1\n            }\n          }\n        ]\n      }\n    if(q1){\n      axios.post(airtable_url, data, {\n          headers: {\n            \"Authorization\": `Bearer ${apiKey}`,\n            \"Content-Type\": \"application/json\"\n          }\n        \n        }).then(response => {\n          console.log(response.data);\n        }).catch(error => {\n          console.log(error);\n        });\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}