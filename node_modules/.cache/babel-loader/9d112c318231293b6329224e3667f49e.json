{"ast":null,"code":"import _slicedToArray from \"/Users/ritasabri/Desktop/PENN/interpretme_v2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/ritasabri/Desktop/PENN/interpretme_v2/src/pages/Upload.js\";\nimport S3FileUpload from \"react-s3\";\nimport { useState } from \"react\";\nimport '../style/Upload.css';\nvar Upload = function Upload(_ref) {\n  var setPopup = _ref.setPopup,\n    fileType = _ref.fileType,\n    onClick = _ref.onClick;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedFile = _useState2[0],\n    setSelectedFile = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    fileLocation = _useState4[0],\n    setFileLocation = _useState4[1];\n  var _useState5 = useState({\n      fileType: \"\",\n      url: \"\"\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    setMediaData = _useState6[1]; // eslint-disable-next-line no-unused-vars\n  var config = {};\n  var upload = function upload() {\n    S3FileUpload.uploadFile(selectedFile, config).then(function (data) {\n      setFileLocation(data.location);\n      setMediaData(fileType, fileLocation);\n    }).catch(function () {\n      // eslint-disable-next-line no-alert\n      alert(\"Error upload media\");\n    });\n  };\n  var updateToParent = function updateToParent() {\n    setPopup(false);\n    onClick(fileType, fileLocation);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"s3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"s3-x\",\n    type: \"submit\",\n    onClick: updateToParent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, \"X\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"s3-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, \"upload your file\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: function onChange(e) {\n      return setSelectedFile(e.target.files[0]);\n    },\n    className: \"s3-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: upload,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"submit\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"s3-test\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, function () {\n    if (fileType === \"image\") {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        src: fileLocation,\n        alt: \"\",\n        className: \"s3-image\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 23\n        }\n      });\n    }\n    if (fileType === \"audio\") {\n      return /*#__PURE__*/React.createElement(\"audio\", {\n        controls: true,\n        src: fileLocation,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }, \"Your browser does not support the audio element.\", /*#__PURE__*/React.createElement(\"track\", {\n        src: \"\",\n        kind: \"captions\",\n        srcLang: \"en\",\n        label: \"english_captions\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 19\n        }\n      }));\n    }\n    if (fileType === \"video\") {\n      return /*#__PURE__*/React.createElement(\"video\", {\n        controls: true,\n        src: fileLocation,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      }, \"Your browser does not support the video element.\", /*#__PURE__*/React.createElement(\"track\", {\n        src: \"\",\n        kind: \"captions\",\n        srcLang: \"en\",\n        label: \"english_captions\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }\n      }));\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    });\n  }()));\n};\nexport default Upload;","map":{"version":3,"names":["S3FileUpload","useState","Upload","_ref","setPopup","fileType","onClick","_useState","_useState2","_slicedToArray","selectedFile","setSelectedFile","_useState3","_useState4","fileLocation","setFileLocation","_useState5","url","_useState6","setMediaData","config","upload","uploadFile","then","data","location","catch","alert","updateToParent","React","createElement","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","files","src","alt","controls","kind","srcLang","label"],"sources":["/Users/ritasabri/Desktop/PENN/interpretme_v2/src/pages/Upload.js"],"sourcesContent":["import S3FileUpload from \"react-s3\";\nimport { useState } from \"react\";\nimport '../style/Upload.css';\n\nconst Upload = ({ setPopup, fileType, onClick }) => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [fileLocation, setFileLocation] = useState(null);\n  const [, setMediaData] = useState({\n    fileType: \"\", url: \"\",\n  });\n  // eslint-disable-next-line no-unused-vars\n  const config = {\n  };\n  const upload = () => {\n    S3FileUpload.uploadFile(selectedFile, config)\n      .then((data) => {\n        setFileLocation(data.location);\n        setMediaData(fileType, fileLocation);\n      })\n      .catch(() => {\n        // eslint-disable-next-line no-alert\n        alert(\"Error upload media\");\n      });\n  };\n\n  const updateToParent = () => {\n    setPopup(false);\n    onClick(fileType, fileLocation);\n  };\n\n  return (\n    <div className=\"s3\">\n      <button className=\"s3-x\" type=\"submit\" onClick={updateToParent}>X</button>\n      <div className=\"s3-form\">\n        <h3>upload your file</h3>\n        <input\n          type=\"file\"\n          onChange={(e) => setSelectedFile(e.target.files[0])}\n          className=\"s3-input\"\n        />\n        <button type=\"submit\" onClick={upload}>submit</button>\n      </div>\n      <div className=\"s3-test\">\n        {\n          (() => {\n            if (fileType === \"image\") {\n              return (<img src={fileLocation} alt=\"\" className=\"s3-image\" />);\n            }\n            if (fileType === \"audio\") {\n              return (\n                <audio controls src={fileLocation}>\n                  Your browser does not support the audio element.\n                  <track src=\"\" kind=\"captions\" srcLang=\"en\" label=\"english_captions\" />\n                </audio>\n              );\n            }\n            if (fileType === \"video\") {\n              return (\n                <video controls src={fileLocation}>\n                  Your browser does not support the video element.\n                  <track src=\"\" kind=\"captions\" srcLang=\"en\" label=\"english_captions\" />\n                </video>\n              );\n            }\n            return (<div />);\n          })()\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default Upload;"],"mappings":"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"},"metadata":{},"sourceType":"module"}